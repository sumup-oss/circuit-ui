import { Meta } from '../../.storybook/components';

<Meta title="Introduction/Contributing/Contributing Icons" />

# Contributing Icons

This page outlines the process of contributing an icon to the `@sumup/icons` package.

> Note that icons should be added by internal contributors with access to the SumUp [Figma icons library](https://www.figma.com/file/vnFVuPNlqF45rkw1u9toBC/SumUp-Iconography) (internal link). If you don't have access but would like to see an icon added to `@sumup/icons`, please [open an issue](https://github.com/sumup-oss/circuit-ui/issues/new).

## Adding a new icon to `@sumup/icons`

1. Create a new SVG file for each icon size in [`packages/web/icons/v2/`](https://github.com/sumup-oss/circuit-ui/tree/main/packages/icons/web/v2) with the name `name_size.svg` (e.g. `add_items_24`—this will generate an `<AddItems />` component).
2. Export the icon as SVG from the [Figma icons library](https://www.figma.com/file/vnFVuPNlqF45rkw1u9toBC/SumUp-Iconography) (internal link). If the icon isn't in the library, make a request with the design team first.
   ![Right click on the group in Figma and choose "export as SVG"](/images/contributing-icons-export.png)
3. Paste the SVG into your file and verify the code — refer to the "Caveats" section below.
4. Commit the icons, they will automatically be optimized in the precommit hook using `svgo`.
5. Add an icon object to the icons manifest file at [`packages/icons/manifest.json`](https://github.com/sumup-oss/circuit-ui/blob/9146e47a21dcd6880f437d1a47a0c54d5a164bfd/packages/icons/manifest.json). The icons are manually ordered alphabetically by icon category, then name (should match the file name), and finally by size (descending).
6. Build the icons package (`yarn workspace @sumup/icons run build`) and run the Storybook (`yarn docs`). Verify that your icon renders correctly on the [Icons page](http://localhost:6006/?path=/docs/features-icons--page) (local link).

## Caveats

### Do not hardcode the icon's color

Unless icons are a brand logo (e.g. the Mastercard logo), all SVG fills should always be `currentColor`. This lets developers style icons using CSS instead of overriding fill colors.

```svg
<svg>
  <path d="..." fill="#007858" /> <!-- Don't do this -->
  <path d="..." fill="currentColor" /> <!-- Do this -->
</svg>
```

You can test this by running Storybook and changing the icons color on the [Icons page](http://localhost:6006/?path=/docs/features-icons--page) (local link).

### Correct icon size

Icons come in three sizes: `16` (16x16), `24` (24x24) and `32` (32x24).

Make sure that the SVG's `width`, `height` and `viewBox` match the icon size that you're contributing.

If they don't (e.g. the SVG has `viewBox="0 0 24 25"`), check that you've copied the SVG code of the right Figma group.

_(Note: this can also be a symptom of another issue with the icon's placement on the Figma canvas. See "Beware clip-path" below.)_

### Beware clip-path

If the SVG includes a `<g clip-path="">` element, there's a chance that the icon wasn't exported properly.

<details>
<summary>Example of a bad icon</summary>

```svg
<svg width="32" height="25" viewBox="0 0 32 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_11532_2901)">
<rect x="0.5" y="1" width="31" height="23" rx="3.5" fill="white" stroke="#CCCCCC"/>
</g>
<path d="M20.1117 4.5C18.5512 4.49926 17.0261 4.96404 15.7312 5.8349C15.6421 5.89584 15.026 6.33591 14.9989 6.35735C13.9754 7.12692 13.2882 7.26008 12.3471 7.02424C12.2896 7.00957 12.0199 6.91704 11.9353 6.88432C11.0563 6.55338 10.1107 6.43826 9.17805 6.54865C8.24536 6.65903 7.35279 6.9917 6.57536 7.51868C5.79794 8.04566 5.15837 8.75156 4.71041 9.57705C4.26246 10.4025 4.0192 11.3235 4.00109 12.2625C3.98298 13.2016 4.19055 14.1312 4.60634 14.9734C5.02214 15.8155 5.63401 16.5456 6.39054 17.1021C7.14707 17.6587 8.02615 18.0255 8.95389 18.1718C9.88163 18.3181 10.8309 18.2395 11.722 17.9427C13.1257 17.5229 13.8874 17.638 14.7687 18.2598C14.9447 18.3839 15.369 18.6558 15.457 18.7201C16.4601 19.4562 17.6233 19.944 18.8513 20.1437C20.0793 20.3434 21.3371 20.2492 22.5217 19.8688C23.7062 19.4884 24.7838 18.8328 25.666 17.9555C26.5482 17.0783 27.2099 16.0044 27.597 14.822C27.984 13.6396 28.0853 12.3823 27.8926 11.1532C27.6998 9.92413 27.2185 8.75819 26.4882 7.75102C25.7578 6.74384 24.7991 5.9241 23.6907 5.359C22.5823 4.7939 21.3558 4.49952 20.1117 4.5Z" fill="#007858"/>
<path d="M17.2713 13.5904C17.0471 13.811 16.7549 13.9491 16.4422 13.9823C16.1295 14.0155 15.8148 13.9418 15.5493 13.7732L15.0269 14.6026C15.4795 14.8886 16.0155 15.0135 16.5479 14.957C17.0804 14.9005 17.5782 14.6658 17.9607 14.2911L17.2713 13.5904ZM16.3302 10.212C15.8987 10.2051 15.4734 10.3158 15.1 10.5321C14.7266 10.7484 14.419 11.0623 14.2103 11.44C14.0016 11.8178 13.8996 12.2452 13.9153 12.6765C13.9309 13.1078 14.0636 13.5267 14.2991 13.8883L18.6073 12.0468C18.4861 11.5311 18.1963 11.0707 17.7838 10.7383C17.3713 10.406 16.8598 10.2208 16.3302 10.212ZM14.9027 12.7373C14.8702 12.4393 14.9342 12.1387 15.0855 11.8799C15.2368 11.6211 15.4673 11.4177 15.743 11.2999C16.0186 11.182 16.3249 11.1559 16.6165 11.2254C16.9081 11.2948 17.1697 11.4562 17.3627 11.6857L14.9027 12.7373ZM19.9603 9.14111V13.7326L20.7569 14.0632L20.3811 14.9659L19.5913 14.6387C19.4322 14.5706 19.2971 14.4567 19.2031 14.3115C19.0981 14.1424 19.0452 13.9462 19.0508 13.7473V9.14111H19.9603ZM13.0228 9.14111V13.7326L13.8127 14.0632L13.437 14.9659L12.6471 14.6387C12.4933 14.5701 12.3628 14.4584 12.2713 14.3171C12.166 14.1481 12.1126 13.9519 12.1178 13.7529V9.14111H13.0228Z" fill="white"/>
<path d="M23.8801 11.328C24.0456 11.4078 24.1938 11.5195 24.3162 11.6566C24.4386 11.7937 24.5327 11.9536 24.5933 12.1272C24.6539 12.3007 24.6796 12.4845 24.6692 12.6679C24.6587 12.8514 24.6122 13.0311 24.5323 13.1966L25.4136 13.6197C25.6521 13.1222 25.7103 12.5573 25.5781 12.0216C25.446 11.4859 25.1317 11.0128 24.6892 10.6834C24.2466 10.3539 23.7033 10.1885 23.1522 10.2155C22.6011 10.2425 22.0766 10.4603 21.6684 10.8315L22.3274 11.5548C22.5338 11.366 22.7921 11.2434 23.0689 11.203C23.3457 11.1626 23.6283 11.2061 23.8801 11.328Z" fill="#C7D540"/>
<path d="M22.6667 13.8522C22.3322 13.6911 22.0753 13.4038 21.9523 13.0535C21.8294 12.7031 21.8506 12.3183 22.0111 11.9835L21.1298 11.5593C20.8936 12.0561 20.8369 12.6195 20.9694 13.1534C21.102 13.6874 21.4154 14.1589 21.8565 14.4876C22.2976 14.8164 22.839 14.9821 23.3885 14.9566C23.9381 14.9311 24.4618 14.7158 24.8705 14.3475L24.2115 13.6254C24.0056 13.8123 23.7487 13.9337 23.4736 13.9741C23.1985 14.0144 22.9176 13.972 22.6667 13.8522ZM11.2168 13.9188V12.5895C11.2168 12.1208 11.0778 11.6627 10.8174 11.273C10.557 10.8833 10.1869 10.5796 9.75395 10.4002C9.32095 10.2209 8.8445 10.1739 8.38483 10.2654C7.92516 10.3568 7.50293 10.5825 7.17153 10.9139C6.84013 11.2453 6.61444 11.6675 6.52301 12.1272C6.43158 12.5869 6.4785 13.0633 6.65786 13.4963C6.83721 13.9293 7.14093 14.2994 7.53062 14.5598C7.92031 14.8202 8.37845 14.9591 8.84713 14.9591C9.2145 14.9592 9.57686 14.8738 9.90557 14.7098L9.52417 13.8183C9.31063 13.9364 9.06995 13.9967 8.82597 13.9932C8.58198 13.9897 8.34313 13.9226 8.13305 13.7984C7.92297 13.6743 7.74894 13.4975 7.62818 13.2854C7.50742 13.0734 7.44411 12.8335 7.44452 12.5895C7.44325 12.3603 7.49868 12.1343 7.60588 11.9316C7.70024 11.7548 7.83132 11.6002 7.99032 11.4782C8.14932 11.3562 8.33257 11.2695 8.52779 11.2241C8.63132 11.1996 8.73734 11.1871 8.84374 11.1869C9.21614 11.1866 9.57342 11.3342 9.83706 11.5972C10.1007 11.8602 10.2491 12.2171 10.2497 12.5895V13.9075C10.2441 14.1064 10.2971 14.3026 10.4021 14.4717C10.4967 14.6163 10.6317 14.7301 10.7902 14.7989L11.2348 14.9749L11.6117 14.0722L11.2168 13.9188Z" fill="white"/>
<defs>
<clipPath id="clip0_11532_2901">
<rect y="0.5" width="32" height="24" rx="4" fill="white"/>
</clipPath>
</defs>
</svg>
```

</details>
<br />

This is usually because the icon is placed off-grid on the Figma canvas:

![An icon in Figma is wrongly placed between "pixels" on the grid](/images/contributing-icons-off-grid.png)

To fix this, copy the icon and paste it on a draft Figma file. Make sure that it's placed on the grid and copy the SVG into the icon file again.

![An icon in Figma is correctly placed on the "pixels" grid](/images/contributing-icons-on-grid.png)

<details>
<summary>Example of a good icon</summary>

```svg
<svg width="32" height="24" viewBox="0 0 32 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="0.5" width="31" height="23" rx="3.5" fill="white" stroke="#CCCCCC"/><!-- Note that this isn't currentColor because this is a brand icon -->
<path d="M20.1117 4C18.5512 3.99926 17.0261 4.46404 15.7312 5.3349C15.6421 5.39584 15.026 5.83591 14.9989 5.85735C13.9754 6.62692 13.2882 6.76008 12.3471 6.52424C12.2896 6.50957 12.0199 6.41704 11.9353 6.38432C11.0563 6.05338 10.1107 5.93826 9.17805 6.04865C8.24536 6.15903 7.35279 6.4917 6.57536 7.01868C5.79794 7.54566 5.15837 8.25156 4.71041 9.07705C4.26246 9.90255 4.0192 10.8235 4.00109 11.7625C3.98298 12.7016 4.19055 13.6312 4.60634 14.4734C5.02214 15.3155 5.63401 16.0456 6.39054 16.6021C7.14707 17.1587 8.02615 17.5255 8.95389 17.6718C9.88163 17.8181 10.8309 17.7395 11.722 17.4427C13.1257 17.0229 13.8874 17.138 14.7687 17.7598C14.9447 17.8839 15.369 18.1558 15.457 18.2201C16.4601 18.9562 17.6233 19.444 18.8513 19.6437C20.0793 19.8434 21.3371 19.7492 22.5217 19.3688C23.7062 18.9884 24.7838 18.3328 25.666 17.4555C26.5482 16.5783 27.2099 15.5044 27.597 14.322C27.984 13.1396 28.0853 11.8823 27.8926 10.6532C27.6998 9.42413 27.2185 8.25819 26.4882 7.25102C25.7578 6.24385 24.7991 5.4241 23.6907 4.859C22.5823 4.2939 21.3558 3.99952 20.1117 4V4Z" fill="#007858"/>
<path d="M17.2712 13.0904C17.0471 13.311 16.7549 13.4491 16.4422 13.4823C16.1295 13.5155 15.8147 13.4418 15.5493 13.2732L15.0268 14.1026C15.4795 14.3886 16.0155 14.5135 16.5479 14.4569C17.0804 14.4004 17.5782 14.1658 17.9607 13.7911L17.2712 13.0904ZM16.3302 9.71194C15.8986 9.70508 15.4734 9.81575 15.1 10.0321C14.7265 10.2484 14.419 10.5623 14.2103 10.94C14.0016 11.3178 13.8996 11.7452 13.9152 12.1764C13.9309 12.6077 14.0635 13.0266 14.299 13.3883L18.6073 11.5467C18.486 11.0311 18.1962 10.5706 17.7838 10.2383C17.3713 9.90597 16.8598 9.72073 16.3302 9.71194V9.71194ZM14.9027 12.2373C14.8701 11.9393 14.9342 11.6387 15.0855 11.3799C15.2368 11.121 15.4673 10.9177 15.7429 10.7998C16.0186 10.682 16.3248 10.6559 16.6165 10.7253C16.9081 10.7948 17.1697 10.9562 17.3626 11.1856L14.9027 12.2373ZM19.9602 8.64108V13.2326L20.7569 13.5632L20.3811 14.4659L19.5912 14.1387C19.4322 14.0706 19.297 13.9567 19.2031 13.8114C19.0981 13.6423 19.0451 13.4462 19.0507 13.2472V8.64108H19.9602ZM13.0228 8.64108V13.2326L13.8127 13.5632L13.4369 14.4659L12.647 14.1387C12.4933 14.0701 12.3628 13.9584 12.2713 13.8171C12.1659 13.6481 12.1126 13.4519 12.1178 13.2529V8.64108H13.0228Z" fill="white"/>
<path d="M23.88 10.828C24.0456 10.9078 24.1938 11.0195 24.3162 11.1567C24.4385 11.2938 24.5327 11.4537 24.5933 11.6272C24.6538 11.8007 24.6796 11.9845 24.6691 12.168C24.6587 12.3515 24.6122 12.5311 24.5323 12.6966L25.4135 13.1198C25.6521 12.6223 25.7103 12.0573 25.5781 11.5217C25.446 10.986 25.1317 10.5129 24.6892 10.1834C24.2466 9.85392 23.7033 9.68853 23.1522 9.71555C22.6011 9.74257 22.0766 9.96031 21.6684 10.3315L22.3274 11.0548C22.5338 10.866 22.7921 10.7435 23.0689 10.703C23.3457 10.6626 23.6282 10.7061 23.88 10.828V10.828Z" fill="#C7D540"/>
<path d="M22.6667 13.3522C22.3322 13.1911 22.0753 12.9039 21.9523 12.5535C21.8294 12.2032 21.8505 11.8184 22.0111 11.4836L21.1298 11.0593C20.8936 11.5562 20.8369 12.1195 20.9694 12.6535C21.1019 13.1874 21.4154 13.6589 21.8565 13.9877C22.2976 14.3165 22.839 14.4822 23.3885 14.4567C23.9381 14.4311 24.4618 14.2159 24.8705 13.8476L24.2115 13.1254C24.0056 13.3123 23.7487 13.4337 23.4736 13.4741C23.1985 13.5145 22.9176 13.4721 22.6667 13.3522V13.3522ZM11.2168 13.4188V12.0895C11.2168 11.6209 11.0778 11.1627 10.8174 10.773C10.557 10.3834 10.1869 10.0796 9.75394 9.90027C9.32095 9.72092 8.84449 9.67399 8.38482 9.76543C7.92516 9.85686 7.50293 10.0825 7.17153 10.4139C6.84012 10.7454 6.61444 11.1676 6.523 11.6272C6.43157 12.0869 6.4785 12.5634 6.65785 12.9964C6.8372 13.4294 7.14093 13.7995 7.53061 14.0598C7.9203 14.3202 8.37845 14.4592 8.84712 14.4592C9.21449 14.4592 9.57685 14.3739 9.90556 14.2098L9.52416 13.3184C9.31062 13.4365 9.06995 13.4967 8.82596 13.4932C8.58197 13.4898 8.34312 13.4226 8.13304 13.2985C7.92296 13.1744 7.74893 12.9975 7.62817 12.7855C7.50741 12.5734 7.4441 12.3336 7.44451 12.0895C7.44324 11.8603 7.49867 11.6343 7.60588 11.4317C7.70023 11.2549 7.83131 11.1002 7.99031 10.9782C8.14931 10.8562 8.33256 10.7696 8.52778 10.7242C8.63132 10.6997 8.73733 10.6872 8.84373 10.6869C9.21613 10.6866 9.57341 10.8342 9.83705 11.0972C10.1007 11.3602 10.2491 11.7171 10.2497 12.0895V13.4075C10.2441 13.6064 10.2971 13.8026 10.4021 13.9717C10.4967 14.1164 10.6316 14.2301 10.7902 14.299L11.2348 14.475L11.6117 13.5723L11.2168 13.4188Z" fill="white"/>
</svg>
```

</details>
