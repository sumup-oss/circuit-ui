import { Intro, Status, Props, Story } from '../../.storybook/components';

# Style Mixins

<Status.Stable />

<Intro>
  Style mixins are small helper functions to apply common styles to an HTML
  element or React component. They work great with{' '}
  <a href="https://emotion.sh/docs/css-prop">Emotion's css prop</a> and{' '}
  <a href="https://emotion.sh/docs/styled">styled components</a>.
</Intro>

## Usage

```tsx
import { clearfix, spacing } from '@sumup/circuit-ui';
import styled from '@emotion/styled';
import { css } from '@emotion/core';

// Pass the style mixin directly to the `css` prop
const Basic = () => <div css={clearfix} />;

// Some style mixins accept options
const Options = () => <div css={spacing('mega')} />;

// Style mixins can also be used in a style function...
const someStyles = ({ theme }) => css`
  &:focus {
    ${focusOutline(theme)};
  }
`;

// ...or passed to a styled component directly
const StyledComponent = styled.div(someStyles, clearfix);
```

## `cx`

Use the `cx` helper to combine multiple style mixins or conditionally apply a style mixin. Each style mixin is called with the `theme`.

```tsx
import { cx, clearfix, spacing, disableVisually } from '@sumup/circuit-ui';

// The `cx` helper accepts any number of style mixins.
const Multiple = () => <div css={cx(clearfix, spacing('mega'))} />;

// Falsy values are skipped which is useful to conditionally apply style mixins.
const Conditional = () => <div css={cx(disabled && disableVisually)} />;
```

## `spacing`

The spacing function is fairly simple and helps to ensure consistency in UI.
The spacing value can take different shapes to make it easy to apply any combination of spacings.
It accepts space string or objects, returns margin and apply spacing. There is a support for the `auto` and `'0'` value to allow resetting margins to default behavior.

```ts
type Spacing = 0 | 'auto' | keyof Theme['spacings'];

spacing(size:
  | Spacing
  | { top?: Spacing; left?: Spacing; bottom?: Spacing; right?: Spacing }
): (theme: Theme | { theme: Theme }) => SerializedStyles;
```

### Usage examples

Below are examples of using the spacing function. For the supported values look at the [`Theme`](Advanced/Theme) page under `Spacings`.
You can set the individual spacing to each side when passing all four values in an object. If you want to apply spacing to all sides with passing just one value, you can do it with string value of any spacing constant.

```tsx
const ButtonWithMargin = (props) => (
  <Button css={spacing('kilo')}>All sides</Button>
  <Button css={spacing({ top: 'mega' })}>Spacing Top</Button>
  <Button
  css={spacing({ top: 'kilo', right: 'mega', left: 'giga', bottom: 'kilo' })}>
  Individual side
  </Button>
  <Button css={spacing('auto')}> Auto spacing</Button>
);
```

<Story id="advanced-style-mixins--spacing" />

## `clearfix`

Forces an element to self-clear its floated children. Taken from [CSS Tricks](https://css-tricks.com/clearfix-a-lesson-in-web-development-evolution/).

```ts
clearfix(): SerializedStyles;
```

<Story id="advanced-style-mixins--clearfix" />

## `focusOutline`

Visually communicates to the user that an element is focused.

```ts
focusOutline(theme: Theme | { theme: Theme }): SerializedStyles;
```

<Story id="advanced-style-mixins--focus-outline" />

## `disableVisually`

Visually communicates to the user that an element is disabled and prevents user interactions.

```ts
disableVisually(): SerializedStyles;
```

<Story id="advanced-style-mixins--disable-visually" />

## `hideVisually`

Visually hides an element while keeping it accessible to users who rely on a screen reader.

```ts
hideVisually(): SerializedStyles;
```

<Story id="advanced-style-mixins--hide-visually" />

## `hideScrollbar`

Hides the browser scrollbar on a scrollable element, e.g. with overflow.

```ts
hideScrollbar(): SerializedStyles;
```

<Story id="advanced-style-mixins--hide-scrollbar" />
