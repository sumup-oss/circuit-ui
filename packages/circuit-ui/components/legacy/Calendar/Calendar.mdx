import { Meta, Status, Story } from '../../../../../.storybook/components';
import * as RangePickerStories from './RangePicker.stories';
import * as SingleDayPickerStories from './SingleDayPicker.stories';
import * as CalendarTagStories from '../CalendarTag/CalendarTag.stories';
import * as CalendarTagTwoStepStories from '../CalendarTagTwoStep/CalendarTagTwoStep.stories';
import * as Stories from './Calendar.stories';

<Meta of={Stories} />

# Calendar

<Status variant="legacy">Does not meet accessibility and performance requirements.</Status>

A calendar contains a view with actionable buttons in order to pick a range of dates
and time frames for a specific task.

## Dependencies

The calendar components depend on [`react-dates`](https://github.com/react-dates/react-dates), [`moment`](https://momentjs.com/) and [Emotion.js](https://github.com/emotion-js/emotion) which are no longer included in Circuit UI. Install them manually before using the components:

```bash
# npm
npm install react-dates@^21.8 moment@^2.29 @emotion/react@^11 @emotion/styled@^11
# yarn v1
yarn add react-dates@^21.8 moment@^2.29 @emotion/react@^11 @emotion/styled@^11
```

Note that `react-dates` isn't compatible with React 18 yet ([ref](https://github.com/react-dates/react-dates/issues/2199)) and might cause a peer dependency error when using npm. Override the warning with `npm install --force` at your own risk.

The calendar components depend on the legacy JSON theme. Wrap the component or your entire application in the `ThemeProvider` from Emotion.js:

```tsx
import { ThemeProvider } from '@emotion/react';
import { light } from '@sumup/design-tokens';
import { SingleDayPicker } from '@sumup/circuit-ui/legacy';

export default function App() {
  return (
    <ThemeProvider theme={light}>
      <SingleDayPicker />
    </ThemeProvider>
  );
}
```

## When to use it

Calendars are used when we need our users to pick a specific time period in order to complete a task
or filter a subset of dated items (such as the transaction history, for example).

## Usage guidelines

- **Do** suggest frequently used selections, such as "Today", "Last month", and others.
- **Do** use the proper component variation depending on how you need the data input
- **Do not** use it when requiring dates very far from the present, such as a birth date.

## Component variations

### Range Picker

<Status variant="legacy" />

Used when the user needs to have clear visibility of selected start and end dates after the selection,
for instance when a user needs to pick a time period within a form.

<Story of={RangePickerStories.Base} />

### Single Day Picker

<Status variant="legacy" />

Used when you the user only needs to select a single specific date.

<Story of={SingleDayPickerStories.Base} />

### Calendar Tag

<Status variant="legacy" />

Used for cases where the user needs to select dates within the same month and that selection affects the data displayed.

<Story of={CalendarTagStories.Base} />

### Calendar Tag Two Step

<Status variant="legacy" />

Used for cases where the user needs to select dates that could be outside the same month and that selection affects the data displayed.

<Story of={CalendarTagTwoStepStories.Base} />
